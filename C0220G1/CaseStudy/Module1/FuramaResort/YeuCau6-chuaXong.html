<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>YeuCau6</title>
    <style>
        .button {
            background-color: #4CAF50; /* Green */
            border: 1px solid green;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            float: left;
        }

        .button:not(:last-child) {
            border-right: none; /* Prevent double borders */
        }

        .button:hover {
            background-color: #3e8e41;
        }
    </style>
</head>
<body>
<button  class="button" type="button" onclick="displayMainMenu()"  value="menu">Menu Customer</button>
    <script>
        let listCustomers=[];
        class Customer {
            constructor(name,idCard,birthDay,email,address,typeCustomer,discount,accompanying,rentDay,typeService,typeRoom) {
            this.name = name;
            this.idCard = idCard;
            this.birthDay = birthDay;
            this.email = email;
            this.address = address;
            this.typeCustomer = typeCustomer;
            this.discount = discount;
            this.accompanying = accompanying;
            this.rentDay = rentDay;
            this.typeService = typeService;
            this.typeRoom = typeRoom;
            }

            //getter
            getName() {
                return this.name;
            }

            getIdCard() {
                return this.idCard;
            }

            getBirthDay() {
                return this.birthDay;
            }

            getEmail() {
                return this.email;
            }

            getAddress() {
                return this.address;
            }

            getTypeCustomer() {
                return this.typeCustomer;
            }

            getDiscount() {
                return this.discount;
            }

            getAccompanying() {
                return this.accompanying;
            }

            getRentDay() {
                return this.rentDay;
            }

            getTypeService() {
                return this.typeService;
            }

            getTypeRoom() {
                return this.typeRoom;
            }


            //setter
            setName(newName){
                 this.name=newName;
            }
            setIdCard(newIdCard){
                 this.idCard=newIdCard;
            }
            setBirthDay(newBirthDay){
                 this.birthDay=newBirthDay;
            }
            setEmail(newEmail){
                 this.email=newEmail;
            }
            setAddress(newAddress){
                 this.address=newAddress;
            }
            setTypeCustomer(newTypeCustomer){
                 this.typeCustomer=newTypeCustomer;
            }
            setDiscount(newDiscount){
                 this.discount=newDiscount;
            }
            setAccompanying(newAccompanying){
                 this.accompanying=newAccompanying;
            }
            setRentDay(newRentDay){
                 this.rentDay=newRentDay;
            }
            setTypeService(newTypeService){
                 this.typeService=newTypeService;
            }
            setTypeRoom(newTypeRoom){
                 this.typeRoom=newTypeRoom;
            }


            //show customer
            showCustomer(){
                alert('Name: '+name+'\n'+
                    'Id Card: '+idCard+'\n'+
                    'Birth Day: '+birthDay+'\n'+
                    'Email: '+email+'\n'+
                    'Address: '+address+'\n'+
                    'Type Customer: '+typeCustomer+'\n'+
                    'Discount: '+discount+'\n'+
                    'Accompanying: '+accompanying+'\n'+
                    'Rent Day: '+rentDay+'\n'+
                    'Type Service: '+typeService+'\n'+
                    'Type Room: '+typeRoom+'\n'+
                    'Total Pays: '+totalPays);
            }
            totalpay(){
                let cost=(this.typeService=='Villa')?
                    500:
                    (this.typeService=='House')?
                        300:
                        (this.typeService=='Room')?100:'';
                return cost;
            }



        }

        //main menu
        function displayMainMenu() {

            let customerMenu;
            do {
                customerMenu = prompt('Menu:' + '\n' +
                    '0. Exit' + '\n' +
                    '1. Add Name Customer ' + '\n' +
                    '2. Display Infomation Customer' + '\n' +
                    '3. Edit Infomation Customer' + '\n' +
                    '4. Delete Customer' + '\n') * 1;
                switch (customerMenu) {
                    case 0:
                        break;
                    case 1:
                        addNewCustomer();
                        break;
                    case 2:
                        displayCustomers();
                        break;
                    case 3:
                        editCustomer();
                        break;
                    case 4:
                        deleteCustomer();
                        break;
                    default:
                        alert('Please select the function included in the menu');
                        break;
                }
            }while (customerMenu!=0)
        }
        function addNewCustomer() {
            let name,idCard,birthDay,email,address,typeCustomer,discount,accompanying,rentDay,typeService,typeRoom;
            name = prompt("Xin vui long nhap vao ten:",'nguyen ngoc son');

            idCard=addIdCard();
            birthDay=addBirthDay();
            email=addEmail();

            address=prompt('Xin vui long nhap vao dia chi:','di lang-son ha-quang ngai');

            typeCustomer=addTypeCustomer();
            discount=prompt('Xin vui long nhap vao giam gia:','5');
            accompanying=prompt('Xin vui long nhap vao so luong di kem:','2');
            rentDay=prompt('Xin vui long nhap vao so ngay thue:','4');
            typeService=prompt('Xin vui long nhap vao loai dich vu:','Villa');
            typeRoom=prompt('Xin vui long nhap vao loai phong thue:','Vip');
            let newCustomer= new customer(name,idCard,birthDay,email,address,typeCustomer,discount,accompanying,rentDay,typeService,typeRoom);
            listCustomers.push(newCustomer);
        }
        function addBirthDay() {
            let birthDay=prompt('Nhap ngay sinh theo cu phap sau!'+'\n'
                +'Nhap theo cu phap: DD/MM/YYYY'+'\n'
                +'Luu y: Chi duoc nhap so tu 0-9');
            let birthDayFormat=/^((0)[1-9]|[1-2][0-9]|(3)[0-1])\/(0)[1-9]|(1)[0-2]\/(\d{4})$/;
            while (!birthDayFormat.test(birthDay)){
                birthDay=prompt('Nhap ngay sinh theo cu phap sau!'+'\n'
                    +'Nhap theo cu phap: DD/MM/YYYY'+'\n'
                    +'Luu y: Chi duoc nhap so tu 0-9');
            }
            let check=true;
            while (check){
                let day=birthDay.substr(0,2)*1;
                let month=birthDay.substr(3,2)*1;
                let year=birthDay.substr(6,4)*1;
                let maxDay;
                let leap;
                if (year % 4 == 0) {
                    if (year%100==0){
                        if (year%400==0){
                            leap=true;
                        }
                        leap=false;
                    }
                    leap=true;
                }
                else {leap=false;
                }
                switch (month) {
                    case 4:
                    case 6:
                    case 9:
                    case 11:
                        maxDay = 30;
                        break;
                    case 2:
                        if (leap) {
                            maxDay=29;
                        } else {
                            maxDay=28;
                        }
                        break;
                    default:
                        maxDay = 31;
                }
                if (day<1 || day>maxDay || month<0 || month>12 || !birthDayFormat.test(birthDay)){
                    birthDay=prompt('nhap sai cu phap, yeu cau nhap lai theo cu phap sau!'+'\n'
                        +'Nhap theo cu phap: DD/MM/YYYY'+'\n'
                        +'Luu y: Chi duoc nhap so tu 0-9');

                }else {
                    check=false;
                }
            };
            return birthDay;
        }
        function addEmail() {
            email = prompt('Nhap email theo cu phap sau!'+'\n'
                +'Nhap theo cu phap: xxx@xxx.xxx'+'\n'
                +'Luu y: Chi duoc nhap so (0-9) va chu cai(a-z,A-Z)');
            let mailFormat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
            while (!mailFormat.test(email));{
                email = prompt('nhap sai cu phap, yeu cau nhap lai theo cu phap sau!'+'\n'
                    +'Nhap theo cu phap: xxx@xxx.xxx'+'\n'
                    +'Luu y: Chi duoc nhap so (0-9) va chu cai(a-z,A-Z)');
            };
            return email;
        }
        function addIdCard() {
            let id=prompt('Nhap ID card theo cu phap sau!'+'\n'
                +'Nhap theo cu phap: xxxxxxxx (8 ki tu)'+'\n'
                +'Luu y: Chi duoc nhap so tu 0-9');
            let idCardCheck=/^[0-9]{9}$/;
            while (!idCardCheck.test(id)){
                let id=prompt('Nhap sai cu phap cua id card, yeu cau nhap lai!'+'\n'
                    +'Nhap theo cu phap: xxxxxxxx (8 ki tu)'+'\n'
                    +'Luu y: Chi duoc nhap so tu 0-9');
            };
            return id;
        }
        function addTypeCustomer() {
            let type=prompt('Xin vui long nhap vao loai customer:\nDiamond\nPlatinum\nGold\nSilver\nMember');
            let typeCheck=/^(Diamond|Platinum|Gold|Silver|Member)$/;
            return type;
        }
    </script>
</body>
</html>